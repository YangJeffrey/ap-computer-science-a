package mp1;

import java.util.ArrayList;
import java.util.Scanner;

public class ACSLVeitch {
	public static void main(String[] args) {
		for (int a = 0; a < 5; a++) {
			String[][] grid = { { "ABcd", "ABCd", "aBCd", "aBcd" }, { "ABcD", "ABCD", "aBCD", "aBcD" },
					{ "AbcD", "AbCD", "abCD", "abcD" }, { "Abcd", "AbCd", "abCd", "abcd" } };

			Scanner obj = new Scanner(System.in);
			String strinput = obj.nextLine();
			ArrayList<String> arrinput = new ArrayList<String>();
			String block = "";
			ArrayList<String> newarrinput = new ArrayList<String>();
			boolean contains = true;
			String strbinary = "";

			for (int i = 0; i < strinput.length(); i++) {
				arrinput.add(strinput.substring(i, i + 1));
			}

			for (int i = 0; i < arrinput.size(); i++) {
				boolean skipone = false;
				if (arrinput.get(i).equals("~")) {
					block += arrinput.get(i + 1).toLowerCase();
					skipone = true;
				}
				if (arrinput.get(i).equals("A") || arrinput.get(i).equals("B") || arrinput.get(i).equals("C")
						|| arrinput.get(i).equals("D")) {
					block += arrinput.get(i);
				}
				if (arrinput.get(i).equals("+")) {
					newarrinput.add(block);
					block = "";
				}
				if (i == arrinput.size() - 2) {
					newarrinput.add(block);
				}
				if (skipone) {
					i++;
				}
			}

			for (String b : newarrinput) {
				for (int r = 0; r < grid.length; r++) {
					for (int c = 0; c < grid[0].length; c++) {

						for (int i = 0; i < b.length(); i++) {
							if (!grid[r][c].contains(b.substring(i, i + 1))) {
								contains = false;
							}
						}

						if (contains) {
							grid[r][c] = " X  ";
						}
						
						contains = true;
					}
				}
			}
			
			for (int r = 0; r < grid.length; r++) {
				for (int c = 0; c < grid[0].length; c++) {
					if(grid[r][c].equals(" X  ")) {
						strbinary += 1;
					} else {
						strbinary += 0;
					}
	 			}
				System.out.println();
			}
			
			System.out.println(binaryToHex(strbinary));
		}
	}
	
	public static String binaryToHex(String binary) {
		return Integer.toString(Integer.parseInt(binary,2),16);
	}
}
